<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Roboto&display=swap" as="style">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/air-datepicker@3.4.0/air-datepicker.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/air-datepicker@3.4.0/air-datepicker.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    <title>Avito Pixel отчет</title>
</head>
<style>
    html, body, div, span, applet, object, iframe,
    h1, h2, h3, h4, h5, h6, p, blockquote, pre,
    a, abbr, acronym, address, big, cite, code,
    del, dfn, em, img, ins, kbd, q, s, samp,
    small, strike, strong, sub, sup, tt, var,
    b, u, i, center,
    dl, dt, dd, ol, ul, li,
    fieldset, form, label, legend,
    table, caption, tbody, tfoot, thead, tr, th, td,
    article, aside, canvas, details, embed,
    figure, figcaption, footer, header, hgroup,
    menu, nav, output, ruby, section, summary,
    time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
    }
    article, aside, details, figcaption, figure,
    footer, header, hgroup, menu, nav, section {
        display: block;
    }
    body {
        line-height: 1;
    }
    ol, ul {
        list-style: none;
    }
    blockquote, q {
        quotes: none;
    }
    blockquote:before, blockquote:after,
    q:before, q:after {
        content: '';
        content: none;
    }
    table {
        border-collapse: collapse;
        border-spacing: 0;
    }


    :root {
        --height-header: 68px;
        --width-container: 1440px;

        --warmgray4: #F2F1F0;
        --warmgray8: #EBEAE8;
        --warmgray12: #E3E2E1;
        --gray4: #F5F5F5;

        --background-paper: #fff;
    }

    body {
        font-family: 'Manrope', Arial, Helvetica, sans-serif;
        background-color: var(--gray4);
    }
    header {
        width: 100%;
        box-sizing: border-box;
        height: var(--height-header);
        border-bottom: 1px solid var(--warmgray8);
        background-color: var(--background-paper);
    }
    .header__container {
        display: flex;
        align-items: center;
        width: var(--width-container);
        height: 100%;
        margin: 0 auto;
        box-sizing: border-box;
        padding: 12px 92px;
    }
    .header__container .logo {
        display: flex;
        align-items: center;
        font-family: 'CoFo Sans', sans-serif;
    }
    h1 {
        font-size: 32px;
        font-weight: 700;
    }

    h2 {
        font-size: 26px;
        line-height: 30px;
        font-weight: 700;
    }

    h3 {
        font-size: 21px;
        line-height: 26px;
        font-weight: 700;
    }

    main {
        max-width: var(--width-container);
        margin: 0 auto;
        padding: 30px 95px;
        background-color: var(--background-paper);
        box-sizing: border-box;
        height: 100%;
    }

    .period__panel {
        padding: 28px 0 0 0;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        row-gap: 10px;
        position: sticky;
        top: 0;
        background-color: var(--background-paper);
        padding-bottom: 32px;
    }

    .month__main {
        padding-top: 16px;
    }

    .table {
        width: 100%;
        margin-bottom: 4px;
        border: none;
        border-collapse: collapse;
        font-size: 14px;
    }

    .table th {
        font-weight: bold;
        padding: 0;
        border: none;
        text-align: left;
        width: max-content;
        padding-bottom: 8px;
    }

    .table td {
        border: none;
        padding: 0;
        text-align: center;
        text-align: left;
        padding: 10px 0 12px 0;
        border-bottom: 1px solid var(--warmgray12);
    }

    .period__date {
        display: flex;
        align-items: flex-end;
        margin-bottom: 10px;
    }

    .date__picker {
        display: flex;
        flex-direction: column;
    }

    .date__picker label {
        margin-bottom: 4px;
    }

    .date__separator {
        align-self: baseline;
    }

    .date__submit {
        margin-left: 10px;
    }

    .h10-style {
        font-size: 32px;
        font-style: normal;
        font-weight: 800;
        line-height: 36px;
    }

    .h25-style {
        font-size: 24px;
        font-style: normal;
        font-weight: 800;
        line-height: 28px;
    }

    .h50-style {
        font-size: 16px;
        font-style: normal;
        font-weight: 800;
        line-height: 20px;
    }

    .m2-style {
        font-family: Arial;
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 22px;
    }

    .m20-style {
        font-size: 15px;
        font-style: normal;
        font-weight: 500;
        line-height: 20px;
    }

    .panel__fast-filter {
        display: grid;
        gap: 6px;
        grid-template-columns: auto auto auto;
        margin-right: 32px;
    }

    .button {
        display: flex;
        width: fit-content;
        padding: 8px 17px 10px 16px;
        border-radius: 6px;
        background: var(--warmgray4);
        border: none;
        cursor: pointer;
        line-height: 22px;
        font-size: 16px;
    }

    .button:hover {
        background-color: #ede9e1;
    }

    .panel__period-filter {
        display: flex;
        gap: 12px;
        align-items: center;
    }

    .period-left-part {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        flex-wrap: wrap;
        row-gap: 16px;
    }

    .month:not(:first-child) {
        padding-top: 32px;
    }
</style>

<style>
    .date {
        position: relative;
        width: 280px;
    }

    .date input {
        background-color: var(--warmgray4);
        border-radius: 6px;
        font-size: 15px;
        font-weight: 500;
        line-height: 20px;
        border: none;
        width: 100%;
        padding: 8px 10px 12px 16px;
        box-sizing: border-box;
    }

    .date:after {
        content: "";
        position: absolute;
        width: 14px;
        height: 8px;
        top: 14px;
        right: 13px;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="8" viewBox="0 0 14 8" fill="none"><path d="M0.576718 0.494077C0.905572 0.168639 1.43875 0.168639 1.7676 0.494077L7.06674 5.73815L12.3659 0.494076C12.6947 0.168639 13.2279 0.168639 13.5568 0.494076C13.8856 0.819513 13.8856 1.34715 13.5568 1.67259L7.66219 7.50592C7.33333 7.83136 6.80016 7.83136 6.4713 7.50592L0.576718 1.67259C0.247864 1.34715 0.247864 0.819513 0.576718 0.494077Z" fill="black"/></svg>') no-repeat;
    }
</style>

<style>
    .select {
        position: relative;
    }

    .select select {
        display: none;
    }

    .select-selected {
        background-color: var(--warmgray4);
        border-radius: 6px;
        font-size: 15px;
        font-weight: 500;
        line-height: 20px;
    }

    .select-selected:after {
        position: absolute;
        content: "";
        top: 14px;
        right: 10px;
        width: 14px;
        height: 8px;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="8" viewBox="0 0 14 8" fill="none"><path d="M0.576718 0.494077C0.905572 0.168639 1.43875 0.168639 1.7676 0.494077L7.06674 5.73815L12.3659 0.494076C12.6947 0.168639 13.2279 0.168639 13.5568 0.494076C13.8856 0.819513 13.8856 1.34715 13.5568 1.67259L7.66219 7.50592C7.33333 7.83136 6.80016 7.83136 6.4713 7.50592L0.576718 1.67259C0.247864 1.34715 0.247864 0.819513 0.576718 0.494077Z" fill="black"/></svg>') no-repeat;
    }

    .select-selected.select-arrow-active:after {
        transform: rotate(180deg);
    }

    .select-items div,.select-selected {
        color: #000;
        padding: 8px 35px 12px 16px;
        cursor: pointer;
    }

    .select-items {
        position: absolute;
        background-color: var(--background-paper);
        box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.05), 0px 4px 30px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        top: 100%;
        left: 0;
        right: 0;
        z-index: 99;
        padding: 10px 0 14px 0;
    }

    .select-hide {
        display: none;
    }

    .select-items div:hover, .same-as-selected {
        background-color: rgba(0, 0, 0, 0.1);
    }
</style>

<script>
    window['data'] = { report: JSON.parse({{ .PayloadString }}) };
</script>

<body>
<header>
    <div class="header__container">
        <a href="/" class="logo">
            <svg width="192" height="32" viewBox="0 0 192 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M41.505 0.621826L32.1301 25.1143H37.1679L39.1126 19.9977H49.0638L51.0001 25.1143H56.0006L46.663 0.621826H41.505ZM40.825 15.503L44.1006 6.8828L47.3638 15.503H40.825Z" fill="black"/>
                <path d="M99.7152 7.59595C97.9522 7.59677 96.2291 8.1203 94.7636 9.10035C93.2981 10.0804 92.1562 11.473 91.4821 13.102C90.808 14.731 90.632 16.5233 90.9765 18.2523C91.3209 19.9813 92.1703 21.5693 93.4172 22.8156C94.6641 24.062 96.2525 24.9106 97.9817 25.2542C99.7108 25.5979 101.503 25.4211 103.132 24.7462C104.76 24.0714 106.152 22.9288 107.132 21.4629C108.111 19.9969 108.634 18.2735 108.634 16.5106C108.634 15.3395 108.403 14.18 107.955 13.0981C107.507 12.0163 106.85 11.0334 106.021 10.2055C105.193 9.37766 104.21 8.7211 103.128 8.27334C102.046 7.82559 100.886 7.5954 99.7152 7.59595ZM99.7152 20.8642C98.8578 20.861 98.0206 20.6039 97.3092 20.1254C96.5977 19.647 96.0439 18.9685 95.7175 18.1757C95.3911 17.3829 95.3067 16.5112 95.4751 15.6705C95.6435 14.8298 96.057 14.0578 96.6635 13.4519C97.2701 12.8459 98.0425 12.4331 98.8833 12.2656C99.7241 12.098 100.596 12.1831 101.388 12.5103C102.181 12.8375 102.859 13.3919 103.336 14.1039C103.814 14.8158 104.071 15.6532 104.073 16.5106C104.074 17.0824 103.962 17.6488 103.743 18.177C103.524 18.7053 103.203 19.1851 102.798 19.5886C102.393 19.9922 101.912 20.3116 101.383 20.5284C100.854 20.7452 100.287 20.8551 99.7152 20.8518V20.8642Z" fill="black"/>
                <path d="M62.0085 18.7955L57.941 7.90723H53.1354L59.6824 25.1145H64.4507L70.8817 7.90723H66.0761L62.0085 18.7955Z" fill="black"/>
                <path d="M85.9992 3.31714H81.4382V7.87811H78.7638V12.0245H81.4382V19.3386C81.4382 23.4849 83.7228 25.2679 86.9404 25.2679C88.0304 25.2839 89.1119 25.0735 90.1165 24.6501V20.3835C89.5703 20.5835 88.9939 20.6886 88.4123 20.6944C87.0192 20.6944 86.0116 20.1513 86.0116 18.2937V12.0245H90.1165V7.90714H86.0116L85.9992 3.31714Z" fill="black"/>
                <path d="M74.6424 6.66731C76.4835 6.66731 77.976 5.17478 77.976 3.33366C77.976 1.49253 76.4835 0 74.6424 0C72.8012 0 71.3087 1.49253 71.3087 3.33366C71.3087 5.17478 72.8012 6.66731 74.6424 6.66731Z" fill="black"/>
                <path d="M76.9312 7.90723H72.3578V25.1145H76.9312V7.90723Z" fill="black"/>
                <path d="M8.91463 27.5566C13.838 27.5566 17.8293 23.5653 17.8293 18.6419C17.8293 13.7185 13.838 9.72729 8.91463 9.72729C3.99122 9.72729 0 13.7185 0 18.6419C0 23.5653 3.99122 27.5566 8.91463 27.5566Z" fill="#04E061"/>
                <path d="M24.3762 26.4287C27.3509 26.4287 29.7623 24.0172 29.7623 21.0426C29.7623 18.0679 27.3509 15.6565 24.3762 15.6565C21.4015 15.6565 18.9901 18.0679 18.9901 21.0426C18.9901 24.0172 21.4015 26.4287 24.3762 26.4287Z" fill="#FF4053"/>
                <path d="M10.6188 8.56624C12.4599 8.56624 13.9525 7.07371 13.9525 5.23258C13.9525 3.39145 12.4599 1.89893 10.6188 1.89893C8.77769 1.89893 7.28516 3.39145 7.28516 5.23258C7.28516 7.07371 8.77769 8.56624 10.6188 8.56624Z" fill="#965EEB"/>
                <path d="M22.2825 14.4956C26.2853 14.4956 29.5303 11.2507 29.5303 7.2478C29.5303 3.24495 26.2853 0 22.2825 0C18.2796 0 15.0347 3.24495 15.0347 7.2478C15.0347 11.2507 18.2796 14.4956 22.2825 14.4956Z" fill="#00AAFF"/>
                <path d="M186.156 25.8V2H188.956V25.8H186.156Z" fill="black"/>
                <path d="M182.076 17.96H169.756C169.849 19.8267 170.363 21.25 171.296 22.23C172.229 23.21 173.419 23.7 174.866 23.7C176.173 23.7 177.188 23.3967 177.911 22.79C178.634 22.1834 179.113 21.4834 179.346 20.69L181.971 21.145C181.574 22.7084 180.758 23.9334 179.521 24.82C178.284 25.7067 176.698 26.15 174.761 26.15C172.381 26.15 170.479 25.38 169.056 23.84C167.656 22.2767 166.956 20.1534 166.956 17.47C166.956 16.0934 167.154 14.8684 167.551 13.795C167.971 12.6984 168.531 11.7884 169.231 11.065C169.931 10.3184 170.759 9.75837 171.716 9.38504C172.696 8.98837 173.734 8.79004 174.831 8.79004C177.048 8.79004 178.809 9.49004 180.116 10.89C181.423 12.29 182.076 14.2617 182.076 16.805V17.96ZM174.796 11.205C173.489 11.205 172.393 11.6134 171.506 12.43C170.643 13.2467 170.094 14.32 169.861 15.65H179.276C179.206 14.3667 178.809 13.305 178.086 12.465C177.363 11.625 176.266 11.205 174.796 11.205Z" fill="black"/>
                <path d="M162.066 25.8001L157.341 19.1501L152.756 25.8001H149.466L155.696 17.2601L149.886 9.14014H153.141L157.376 15.2651L161.681 9.14014H164.901L158.986 17.0851L165.426 25.8001H162.066Z" fill="black"/>
                <path d="M143.325 5.92006V2.56006H146.51V5.92006H143.325ZM143.5 25.8001V9.14006H146.3V25.8001H143.5Z" fill="black"/>
                <path d="M122.045 25.8V2H131.46C134.05 2 136.033 2.64167 137.41 3.925C138.787 5.20833 139.475 7.005 139.475 9.315C139.475 11.625 138.787 13.445 137.41 14.775C136.057 16.105 133.968 16.77 131.145 16.77H125.055V25.8H122.045ZM125.055 14.005H131.39C133.14 14.005 134.412 13.6083 135.205 12.815C136.022 11.9983 136.43 10.8433 136.43 9.35C136.43 7.74 136.033 6.57333 135.24 5.85C134.47 5.12667 133.187 4.765 131.39 4.765H125.055V14.005Z" fill="black"/>
            </svg>
        </a>
    </div>
</header>
<main>
    <div class="period">
        <div class="period__header">
            <h2 class="h10-style"><span id="total-label"></span> <span id="total-value"></span></h2>
        </div>
        <form class="period__panel" id="form-panel" action="">
            <div class="period-left-part">
                <div class="panel__fast-filter">
                    <button class="button" id="fast-filter-today">Сегодня</button>
                    <button class="button" id="fast-filter-yesterday">Вчера</button>
                    <button class="button">Неделя</button>
                </div>
                <div class="panel__period-filter">
                    <p class="m2-style">Выбрать период</p>
                    <div style="min-width: 202px;" class="date">
                        <input id="date" />
                        <input id="date-from" name="from" hidden />
                        <input id="date-to" name="to" hidden />
                    </div>
                </div>
            </div>
            <div class="panel__platform-filter">
                <div style="min-width: 202px;" class="select">
                    <select name="platform" id="select-platform">
                        <option value="">Все платформы</option>
                    </select>
                </div>
            </div>
            <input hidden name="metric" value="visitors" />
            <input hidden name="interval" value="1" />
        </form>
        <div class="period__main" id="period">

        </div>
    </div>
</main>
</body>

<script>
    function setProperty(id, value, property = 'innerText') {
        const element = document.getElementById(id);
        if (element) {
            element[property] = value;
        }
    }

    function dateToString(date) {
        const month = String(date.getMonth()+1);
        const day = String(date.getDate());
        const getMonth = () => month.length === 1 ? `0${month}` : month;
        const getDate = () => day.length === 1 ? `0${day}` : day;
        return `${date.getFullYear()}-${getMonth()}-${getDate()}`;
    }

    function declOfNum(number, words) {
        return words[(number % 100 > 4 && number % 100 < 20) ? 2 : [2, 0, 1, 1, 1, 2][(number % 10 < 5) ? Math.abs(number) % 10 : 5]];
    }

    function createBlock(rootPeriod, item) {
        const block = document.createElement('div');
        block.className = "month";
        rootPeriod.appendChild(block);

        createBlockHeader(block, item);
        createBlockMain(block, item);
    }

    function createBlockHeader(block, item) {
        const header = document.createElement('div');
        header.className = "month__header";
        block.appendChild(header);

        createBlockTitle(header, item);
    }

    function createBlockMain(block, item) {
        const main = document.createElement('div');
        main.className = 'month__main';

        block.appendChild(main);

        createBlockTable(main, item);
    }

    function createBlockTitle(rootHeaderMonth, item) {
        const titleMonth = document.createElement('h3');
        titleMonth.classList.add('h25-style');
        titleMonth.innerText = `${item.month} ${item.year}: ${item.total} ${declOfNum(item.total, LABEL_VISITORS)}`;
        rootHeaderMonth.appendChild(titleMonth);
    }

    function createBlockTable(block, item) {
        const table = document.createElement('table');
        table.className = 'table';

        const thead = document.createElement('thead');
        table.appendChild(thead);

        const numberHead = document.createElement('th');
        numberHead.innerText = 'Дата';
        numberHead.classList.add('h50-style')
        numberHead.style.width = '46%';
        thead.appendChild(numberHead);

        const valueHead = document.createElement('th');
        valueHead.innerText = LABEL_TABLE_COLUMN_TOTAL;
        valueHead.classList.add('h50-style')
        valueHead.style.width = '54%';
        thead.appendChild(valueHead);

        const platformHead = document.createElement('th');
        platformHead.innerText = LABEL_TABLE_COLUMN_PLATFORM;
        platformHead.classList.add('h50-style')
        platformHead.style.maxWidth = '126px';
        platformHead.style.minWidth = '126px';
        platformHead.style.width = '126px';
        thead.appendChild(platformHead);

        const tbody = document.createElement('tbody');
        table.appendChild(tbody);

        item.days.forEach((el, index) => {
            const row = document.createElement('tr');

            row.classList.add('m20-style')

            tbody.appendChild(row);

            const cellNumber = document.createElement('td');
            cellNumber.innerText = el.date;
            row.appendChild(cellNumber);

            const cellValue = document.createElement('td');
            cellValue.innerText = el.total;
            row.appendChild(cellValue);

            const platformValue = document.createElement('td');
            platformValue.innerText = el.platform || LABEL_TABLE_COLUMN_PLATFORM_EMPTY_VALUE;
            row.appendChild(platformValue);

            if (el.platform && platformOptions.findIndex(item => item === el.platform) === -1) {
                platformOptions.push(el.platform);
            }

            if (index === item.days.length - 1) {
                cellNumber.style.border = 'none';
                cellValue.style.border = 'none';
                platformValue.style.border = 'none';
            }
        })

        block.appendChild(table);
    }

    function getUriParams() {
        const params = (new URL(document.location)).searchParams;
        const from = params.get("from");
        const to = params.get("to");
        const platform = params.get('platform') || '';

        return { from, to, platform };
    }

    function getReportData() {
        return window['data'].report;
    }

    window['form'] = document.getElementById('form-panel');
    window['dateFromInput'] = document.getElementById('date-from');
    window['dateToInput'] = document.getElementById('date-to');
    const LABEL_TOTAL = 'Всего посещений:';
    const LABEL_TABLE_COLUMN_TOTAL = 'Количество посетителей';
    const LABEL_TABLE_COLUMN_PLATFORM = 'Платформа';
    const LABEL_TABLE_COLUMN_PLATFORM_EMPTY_VALUE = 'Без платформы';
    const LABEL_VISITORS = ['посещение', 'посещения', 'посещений'];
</script>

<script>
    const platformOptions = [];
    const report = getReportData();
    const uriParams = getUriParams();

    setProperty("date-from", uriParams.from, 'value');
    setProperty("date-to", uriParams.to, "value");

    if (uriParams.to && uriParams.from || true) {
        setProperty("total-label", LABEL_TOTAL);
        setProperty("total-value", report.total);

        const period = document.getElementById('period');

        (report.months || []).forEach((item, index) => {
            createBlock(period, item);
        });

        const platformSelect = document.getElementById('select-platform');
        platformSelect.addEventListener('change', (event) => {
            window['form'].submit();
        })
        platformOptions.forEach((item)=>{
            const option = document.createElement('option');
            option.innerText = item;
            option.value = item;
            platformSelect.append(option);
        })
        setProperty("select-platform", uriParams.platform, "value")

        const fastFilterToday = document.getElementById('fast-filter-today');
        fastFilterToday.addEventListener('click', (event) => {
            const value = dateToString(new Date());
            window['dateFromInput'].value = value;
            window['dateToInput'].value = value;
            window['form'].submit();
        });

        const fastFilterYesterday = document.getElementById('fast-filter-yesterday');
        fastFilterYesterday.addEventListener('click', (event) => {
            const ONE_DAY_MS= 86400000;
            const value = dateToString(new Date(Date.now()-ONE_DAY_MS));
            window['dateFromInput'].value = value;
            window['dateToInput'].value = value;
            window['form'].submit();
        })
    }
</script>

<script>
    new AirDatepicker('#date', {
        autoClose: true,
        range: true,
        multipleDatesSeparator: ' - ',
        dateFormat: "dd MMM yyyy",
        onSelect: (data) => {
            if (data.date.length === 2) {
                if (data.date[0]) {
                    setProperty('date-from', dateToString(data.date[0]), 'value');
                }

                if (data.date[1]) {
                    setProperty('date-to', dateToString(data.date[1]), 'value');
                }
                form.submit();
            }
        },
        selectedDates: [window['dateFromInput'].value, window['dateToInput'].value]
    });
</script>

<script>
    var x, i, j, l, ll, selElmnt, a, b, c;
    x = document.getElementsByClassName("select");
    l = x.length;
    for (i = 0; i < l; i++) {
        selElmnt = x[i].getElementsByTagName("select")[0];
        ll = selElmnt.length;
        a = document.createElement("DIV");
        a.setAttribute("class", "select-selected");
        a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
        x[i].appendChild(a);
        b = document.createElement("DIV");
        b.setAttribute("class", "select-items select-hide");
        for (j = 0; j < ll; j++) {
            c = document.createElement("DIV");
            c.innerHTML = selElmnt.options[j].innerHTML;
            c.addEventListener("click", function(e) {
                var y, i, k, s, h, sl, yl;
                s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                sl = s.length;
                h = this.parentNode.previousSibling;
                for (i = 0; i < sl; i++) {
                    if (s.options[i].innerHTML == this.innerHTML) {
                        s.selectedIndex = i;
                        var event = new Event('change');
                        s.dispatchEvent(event);
                        h.innerHTML = this.innerHTML;
                        y = this.parentNode.getElementsByClassName("same-as-selected");
                        yl = y.length;
                        for (k = 0; k < yl; k++) {
                            y[k].removeAttribute("class");
                        }
                        this.setAttribute("class", "same-as-selected");
                        break;
                    }
                }
                h.click();
            });
            b.appendChild(c);
        }
        x[i].appendChild(b);
        a.addEventListener("click", function(e) {
            e.stopPropagation();
            closeAllSelect(this);
            this.nextSibling.classList.toggle("select-hide");
            this.classList.toggle("select-arrow-active");
        });
    }

    function closeAllSelect(elmnt) {
        var x, y, i, xl, yl, arrNo = [];
        x = document.getElementsByClassName("select-items");
        y = document.getElementsByClassName("select-selected");
        xl = x.length;
        yl = y.length;
        for (i = 0; i < yl; i++) {
            if (elmnt == y[i]) {
                arrNo.push(i)
            } else {
                y[i].classList.remove("select-arrow-active");
            }
        }
        for (i = 0; i < xl; i++) {
            if (arrNo.indexOf(i)) {
                x[i].classList.add("select-hide");
            }
        }
    }

    document.addEventListener("click", closeAllSelect);
</script>

</html>